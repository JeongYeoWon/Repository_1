<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        canvas{
            border : 1px solid black;
        }
    </style>
</head>
<body>
    <canvas id="you_sihum_average_80" width="1024" height="768"></canvas>
    <script>
        const canvas = document.getElementById('you_sihum_average_80');
        const ctx = canvas.getContext('2d');
        
        var mouseX = 0;
        var mouseY = 0;

        var PlayerPosX = 100;
        var PlayerPosY = 100;
        

        setInterval(gameLoop, 1000/60);

        function gameLoop() {
            draw();
        }
        
        document.addEventListener('mousemove', updateMouseCursor);
            

        function updateMouseCursor(event)
        {
            mouseX = event.clientX; // 마우스 커서의 X 좌표
            mouseY = event.clientY; // 마우스 커서의 Y 좌표

            //console.log('마우스 X 좌표:' + mouseX);
            //console.log('마우스 Y 좌표:' + mouseY);
        }

        var dirX=0;
        var dirY=0;
        var speed = 5;

        function CalculateDirection(){
            
            dirX = mouseX - PlayerPosX;
            dirY = mouseY - PlayerPosY;

            scalar = Math.sqrt((dirX*dirX) + (dirY*dirY));

            dirX /=scalar;
            dirY /=scalar;

            if(scalar>20){          

                PlayerPosX += dirX*speed;
                PlayerPosY += dirY*speed;
            }
        }

        function draw() {
            // Canvas 지우기
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            CalculateDirection();

            // 원 그리기
            ctx.beginPath();
            ctx.arc(PlayerPosX, PlayerPosY, 20, 0, 2 * Math.PI);
            ctx.fillStyle = '#0000FF';
            ctx.fill();
        }
        
    </script>
    
</body>
</html>